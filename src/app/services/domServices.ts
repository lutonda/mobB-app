import { Configuration } from './configuration';
import { HttpClient, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpHeaders } from '@angular/common/http';
import { Injectable } from '@angular/core';
// tslint:disable-next-line:import-blacklist
import { Observable } from 'rxjs';
import { map } from 'rxjs/operators';

@Injectable()
export class DomService {
    private static identity: string = '45sd-56sd23-sd8956-5454'
    private actionUrl: string;
    private reqHeader = new HttpHeaders({
            'Access-Control-Allow-Origin': '*',
            'Content-Type': 'application/json',
            'Accept': 'application/json'});

            constructor(private http: HttpClient, private configuration: Configuration) {
        this.actionUrl = configuration.fullApiUrl;
    }

    post(data: any, url) {
        return this.http.post(this.actionUrl + url, data, { headers: this.reqHeader });
      }

    get(url) {
        return this.http.get(this.actionUrl + url, { headers: this.reqHeader });
     }

    getUserClaims() {
        return this.http.get(this.actionUrl + 'api/GetUserClaims');
    }

    storeData(source,data) {
      localStorage.setItem( DomService.identity + '_' + source, JSON.stringify(data));
    }

    static getStored(source):Array<any>{
      return [{"id":1,"money":"AED","value":4.015182,"description":"","createdAt":"2019-09-27T15:01:23.000Z","isPublished":false},{"id":2,"money":"AFN","value":85.605653,"description":"","createdAt":"2019-09-27T15:01:23.000Z","isPublished":false},{"id":3,"money":"AMD","value":520.309476,"description":"","createdAt":"2019-09-27T15:01:23.000Z","isPublished":false},{"id":4,"money":"ANG","value":1.918333,"description":"","createdAt":"2019-09-27T15:01:23.000Z","isPublished":false},{"id":5,"money":"ALL","value":121.748122,"description":"","createdAt":"2019-09-27T15:01:23.000Z","isPublished":false},{"id":6,"money":"AOA","value":405.937524,"description":"","createdAt":"2019-09-27T15:01:23.000Z","isPublished":false},{"id":7,"money":"ARS","value":62.612784,"description":"","createdAt":"2019-09-27T15:01:23.000Z","isPublished":false},{"id":8,"money":"AUD","value":1.616572,"description":"","createdAt":"2019-09-27T15:01:23.000Z","isPublished":false},{"id":9,"money":"AWG","value":1.966463,"description":"","createdAt":"2019-09-27T15:01:23.000Z","isPublished":false},{"id":10,"money":"AZN","value":1.86377,"description":"","createdAt":"2019-09-27T15:01:23.000Z","isPublished":false},{"id":11,"money":"BAM","value":1.954329,"description":"","createdAt":"2019-09-27T15:01:23.000Z","isPublished":false},{"id":12,"money":"BBD","value":2.207052,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":13,"money":"BDT","value":92.420714,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":14,"money":"BGN","value":1.956079,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":15,"money":"BIF","value":2019.478106,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":16,"money":"BHD","value":0.412039,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":17,"money":"BMD","value":1.093087,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":18,"money":"BND","value":1.506316,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":19,"money":"BOB","value":7.561047,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":20,"money":"BRL","value":4.543635,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":21,"money":"BSD","value":1.09347,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":22,"money":"BTC","value":0.000136,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":23,"money":"BTN","value":77.15333,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":24,"money":"BWP","value":12.069865,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":25,"money":"BYN","value":2.265586,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":26,"money":"BYR","value":21424.503858,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":27,"money":"BZD","value":2.203337,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":28,"money":"CAD","value":1.448455,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":29,"money":"CDF","value":1819.989894,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":30,"money":"CHF","value":1.085916,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":31,"money":"CLF","value":0.028744,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":32,"money":"CLP","value":793.149341,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":33,"money":"CNY","value":7.791958,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":34,"money":"COP","value":3768.526505,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":35,"money":"CRC","value":636.766446,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":36,"money":"CUC","value":1.093087,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":37,"money":"CUP","value":28.966804,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":38,"money":"CVE","value":110.296958,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":39,"money":"CZK","value":25.854794,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":40,"money":"DJF","value":194.263425,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":41,"money":"DKK","value":7.465652,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":42,"money":"DOP","value":56.948744,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":43,"money":"DZD","value":131.897273,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":44,"money":"EGP","value":17.833734,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":45,"money":"ERN","value":16.396601,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":46,"money":"ETB","value":32.147138,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":47,"money":"EUR","value":1,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":48,"money":"FJD","value":2.394084,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":49,"money":"FKP","value":0.886641,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":50,"money":"GBP","value":0.887147,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":51,"money":"GEL","value":3.234868,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":52,"money":"GGP","value":0.887209,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":53,"money":"GHS","value":5.918902,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":54,"money":"GIP","value":0.886711,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":55,"money":"GMD","value":54.834702,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":56,"money":"GNF","value":10096.024607,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":57,"money":"GYD","value":228.247006,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":58,"money":"GTQ","value":8.449451,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":59,"money":"HKD","value":8.570403,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":60,"money":"HRK","value":7.406431,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":61,"money":"HNL","value":26.903053,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":62,"money":"HTG","value":105.099764,"description":"","createdAt":"2019-09-27T15:01:24.000Z","isPublished":false},{"id":63,"money":"HUF","value":335.75698,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":64,"money":"IDR","value":15481.280903,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":65,"money":"ILS","value":3.807692,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":66,"money":"IMP","value":0.887209,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":67,"money":"INR","value":76.992636,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":68,"money":"IQD","value":1304.325981,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":69,"money":"IRR","value":46024.425524,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":70,"money":"ISK","value":134.908799,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":71,"money":"JEP","value":0.887209,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":72,"money":"JMD","value":147.533901,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":73,"money":"JOD","value":0.77504,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":74,"money":"JPY","value":118.183452,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":75,"money":"KES","value":113.458602,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":76,"money":"KHR","value":4481.656482,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":77,"money":"KGS","value":76.192417,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":78,"money":"KMF","value":491.205927,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":79,"money":"KPW","value":983.84804,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":80,"money":"KRW","value":1309.659966,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":81,"money":"KWD","value":0.332739,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":82,"money":"KYD","value":0.910934,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":83,"money":"KZT","value":424.128819,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":84,"money":"LBP","value":1653.020193,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":85,"money":"LAK","value":9644.469857,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":86,"money":"LKR","value":198.833445,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":87,"money":"LRD","value":228.454834,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":88,"money":"LSL","value":16.38585,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":89,"money":"LTL","value":3.227602,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":90,"money":"LVL","value":0.661198,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":91,"money":"LYD","value":1.546729,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":92,"money":"MAD","value":10.602293,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":93,"money":"MDL","value":19.402266,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":94,"money":"MOP","value":8.827549,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":95,"money":"MKD","value":61.60968,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":96,"money":"MNT","value":2915.784784,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":97,"money":"MGA","value":4112.740433,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":98,"money":"MMK","value":1674.609389,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":99,"money":"MRO","value":390.232413,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":100,"money":"MVR","value":16.837871,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":101,"money":"MUR","value":39.878033,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":102,"money":"MWK","value":794.209615,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":103,"money":"MXN","value":21.484409,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":104,"money":"MYR","value":4.57402,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":105,"money":"NAD","value":16.384906,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":106,"money":"MZN","value":67.678508,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":107,"money":"NGN","value":395.149135,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":108,"money":"NOK","value":9.935876,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":109,"money":"NIO","value":36.677989,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":110,"money":"NPR","value":123.447778,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":111,"money":"NZD","value":1.735248,"description":"","createdAt":"2019-09-27T15:01:25.000Z","isPublished":false},{"id":112,"money":"OMR","value":0.420297,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":113,"money":"PAB","value":1.093524,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":114,"money":"PEN","value":3.699027,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":115,"money":"PGK","value":3.720376,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":116,"money":"PHP","value":56.635029,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":117,"money":"PYG","value":6979.961105,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":118,"money":"PKR","value":171.450257,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":119,"money":"QAR","value":3.980203,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":120,"money":"RON","value":4.751541,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":121,"money":"PLN","value":4.389782,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":122,"money":"RSD","value":117.441318,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":123,"money":"RUB","value":70.426533,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":124,"money":"RWF","value":1009.219837,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":125,"money":"SAR","value":4.101536,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":126,"money":"SGD","value":1.50905,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":127,"money":"SCR","value":14.974188,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":128,"money":"SBD","value":9.046276,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":129,"money":"SDG","value":49.30366,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":130,"money":"SEK","value":10.715886,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":131,"money":"SHP","value":1.443859,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":132,"money":"SLL","value":10275.016993,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":133,"money":"SOS","value":633.99004,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":134,"money":"SRD","value":8.15222,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":135,"money":"STD","value":23567.817783,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":136,"money":"SVC","value":9.56473,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":137,"money":"SYP","value":562.939619,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":138,"money":"TJS","value":10.591521,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":139,"money":"SZL","value":16.456436,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":140,"money":"TND","value":3.132514,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":141,"money":"TMT","value":3.825804,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":142,"money":"THB","value":33.502887,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":143,"money":"TOP","value":2.544543,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":144,"money":"TRY","value":6.195535,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":145,"money":"TTD","value":7.410966,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":146,"money":"TWD","value":33.914096,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":147,"money":"TZS","value":2513.337078,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":148,"money":"UAH","value":26.339026,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":149,"money":"UGX","value":4027.861164,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":150,"money":"USD","value":1.093087,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":151,"money":"UYU","value":40.323806,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":152,"money":"UZS","value":10313.166496,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":153,"money":"VEF","value":10.917201,"description":"","createdAt":"2019-09-27T15:01:26.000Z","isPublished":false},{"id":154,"money":"VND","value":25364.918283,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":155,"money":"VUV","value":129.283951,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":156,"money":"WST","value":2.934446,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":157,"money":"XAF","value":655.469103,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":158,"money":"XAU","value":0.000735,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":159,"money":"XAG","value":0.063077,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":160,"money":"XCD","value":2.954122,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":161,"money":"XDR","value":0.801178,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":162,"money":"XOF","value":655.447847,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":163,"money":"XPF","value":119.168206,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":164,"money":"YER","value":273.602054,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":165,"money":"ZAR","value":16.49763,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":166,"money":"ZMK","value":9839.084351,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":167,"money":"ZMW","value":14.401387,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false},{"id":168,"money":"ZWL","value":351.973993,"description":"","createdAt":"2019-09-27T15:01:27.000Z","isPublished":false}]
      //return JSON.parse(localStorage.getItem( DomService.identity + '_' + source));
    }

    getUserData(): any {
        const data = localStorage.getItem('userData')
        return JSON.parse(data);
    }

    getUserToken(): string {
        const data = localStorage.getItem('userToken')
        return data;
    }
}


@Injectable()
export class CustomInterceptor implements HttpInterceptor {

    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {
        if (!req.headers.has('Content-Type')) {
            req = req.clone({ headers: req.headers.set('Content-Type', 'application/json') });
        }

        req = req.clone({ headers: req.headers.set('Accept', 'application/json') });
        return next.handle(req);
    }
}
